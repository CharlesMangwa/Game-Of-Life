!function t(i,e,r){function s(h,a){if(!e[h]){if(!i[h]){var o="function"==typeof require&&require;if(!a&&o)return o(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+h+"'")}var l=e[h]={exports:{}};i[h][0].call(l.exports,function(t){var e=i[h][1][t];return s(e?e:t)},l,l.exports,t,i,e,r)}return e[h].exports}for(var n="function"==typeof require&&require,h=0;h<r.length;h++)s(r[h]);return s}({1:[function(t,i,e){"use strict";function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(i,e,r){return e&&t(i.prototype,e),r&&t(i,r),i}}(),n=function(){function t(i){r(this,t),this.grid=i.grid.nbre,this.gridborderWidth=i.grid.borderWidth,this.cellSize=i.grid.cellSize,this.gridSize=(parseInt(this.grid)+1)*this.cellSize,this.$goban=Sprint(i.goban.element),this.$goban_gameplay=Sprint(i.gameplay.element),this.$goban_grid=Sprint(i.grid.element),this.gridCanvas=this.$goban_grid.dom[0].getContext("2d"),this.gameplayCanvas=this.$goban_gameplay.dom[0].getContext("2d")}return s(t,[{key:"buildGoban",value:function(){this.$goban.css({width:this.gridSize,height:this.gridSize})}},{key:"buildGameplay",value:function(){this.$goban_gameplay.dom[0].width=this.gridSize,this.$goban_gameplay.dom[0].height=this.gridSize,this.$goban_gameplay.css({width:this.gridSize,height:this.gridSize})}},{key:"buildGrid",value:function(){this.$goban_grid.dom[0].width=this.gridSize,this.$goban_grid.dom[0].height=this.gridSize,this.$goban_grid.css({width:this.gridSize,height:this.gridSize});for(var t=this.gridCanvas,i=1;i<=this.grid;i++)t.beginPath(),t.moveTo(this.cellSize,this.cellSize*i),t.lineTo(this.gridSize-this.cellSize,this.cellSize*i),t.lineWidth=this.gridborderWidth,t.stroke();for(var e=1;e<=this.grid;e++)t.beginPath(),t.moveTo(this.cellSize*e,this.cellSize),t.lineTo(this.cellSize*e,this.gridSize-this.cellSize),t.lineWidth=this.gridborderWidth,t.stroke()}},{key:"run",value:function(){this.buildGoban(),this.buildGameplay(),this.buildGrid()}}]),t}();i.exports=n},{}],2:[function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(i,e,r){return e&&t(i.prototype,e),r&&t(i,r),i}}(),h=t("./territory.js"),a=r(h),o=function(){function t(i){s(this,t),this.$goban=Sprint(i.element),this.canvas=this.$goban.dom[0].getContext("2d"),this.grid=i.grid.nbre,this.cellSize=i.grid.cellSize,this.rockSize=i.rock.size,this.rockPlayer1=i.rock.player1,this.rockPlayer2=i.rock.player2,this.player=1,this.enemy=this.player++,this.tab=[],this.territories=[],this.territory=[],this.cache=[];for(var e=1;e<=this.grid;e++)for(var r=1;r<=this.grid;r++)this.tab[""+e+";"+r]=0}return n(t,[{key:"listenner",value:function(){Sprint(this.$goban).on("click",function(t){if(this.create(t.layerX,t.layerY)){console.log("*********************************");var i=this.rockPlayer1;2==this.player&&(i=this.rockPlayer2),console.log("Joueur "+this.player+" ("+i+") en "+this.x+";"+this.y),this.rewriteGoban(),this.player=this.player++%2+1,this.enemy=this.enemy++%2+1}}.bind(this))}},{key:"checkSuicide",value:function(){return!1}},{key:"checkKO",value:function(){return!1}},{key:"create",value:function(t,i){this.x=Math.floor((t+this.cellSize/2)/this.cellSize),this.y=Math.floor((i+this.cellSize/2)/this.cellSize);var e=this.rockPlayer1;if(2==this.player&&(e=this.rockPlayer2),1<=this.x&&this.x<=this.grid&&1<=this.y&&this.y<=this.grid){if(this.checkSuicide()||this.checkKO()||0!=this.tab[""+this.x+";"+this.y])return!1;var r=this.canvas;return r.beginPath(),r.arc(this.x*this.cellSize,this.y*this.cellSize,this.rockSize/2,0,2*Math.PI,!1),r.closePath(),r.fillStyle=e,r.fill(),this.tab[""+this.x+";"+this.y]=this.player,!0}return!1}},{key:"rewriteGoban",value:function(){if(this.territory=[],this.tab[""+this.x+";"+(this.y-1)]==this.enemy||this.tab[""+(this.x+1)+";"+this.y]==this.enemy||this.tab[""+this.x+";"+(this.y+1)]==this.enemy||this.tab[""+(this.x-1)+";"+this.y]==this.enemy){this.tab[""+this.x+";"+(this.y-1)]==this.enemy&&(this.territory.top=new a["default"](this.tab,this.enemy,this.x,this.y-1)),this.tab[""+(this.x+1)+";"+this.y]==this.enemy&&(this.territory.right=new a["default"](this.tab,this.enemy,this.x+1,this.y)),this.tab[""+this.x+";"+(this.y+1)]==this.enemy&&(this.territory.bottom=new a["default"](this.tab,this.enemy,this.x,this.y+1)),this.tab[""+(this.x-1)+";"+this.y]==this.enemy&&(this.territory.left=new a["default"](this.tab,this.enemy,this.x-1,this.y)),this.cache=[],this.territories=[];for(var t in this.territory){var i=this.territory[t];i.findTerritory(),-1==this.cache.indexOf(JSON.stringify(i.get()))&&(this.territories.push(i),this.cache.push(JSON.stringify(i.get())))}var e=!0,r=!1,s=void 0;try{for(var n,h=this.territories[Symbol.iterator]();!(e=(n=h.next()).done);e=!0){var i=n.value;this.cache=0;var o=!0,l=!1,c=void 0;try{for(var u,y=i.getBorders()[Symbol.iterator]();!(o=(u=y.next()).done);o=!0){var d=u.value,f=d.lastIndexOf(";"),g=parseInt(d.substr(0,f)),b=parseInt(d.substring(f+1));0!=this.tab[""+g+";"+(b-1)]&&0!=this.tab[""+(g+1)+";"+b]&&0!=this.tab[""+g+";"+(b+1)]&&0!=this.tab[""+(g-1)+";"+b]&&this.cache++}}catch(p){l=!0,c=p}finally{try{!o&&y["return"]&&y["return"]()}finally{if(l)throw c}}if(this.cache==i.getBorders().length){console.log("**"),console.log("Enemy territory circled !"),console.log(i.get());var m=!0,v=!1,k=void 0;try{for(var x,S=i.get()[Symbol.iterator]();!(m=(x=S.next()).done);m=!0){var z=x.value;this.tab[z]=0;var f=z.lastIndexOf(";");this.x=parseInt(z.substr(0,f))*this.cellSize-1-this.rockSize/2,this.y=parseInt(z.substring(f+1))*this.cellSize-1-this.rockSize/2,this.canvas.clearRect(this.x,this.y,this.rockSize+2,this.rockSize+2)}}catch(p){v=!0,k=p}finally{try{!m&&S["return"]&&S["return"]()}finally{if(v)throw k}}}}}catch(p){r=!0,s=p}finally{try{!e&&h["return"]&&h["return"]()}finally{if(r)throw s}}}}}]),t}();i.exports=o},{"./territory.js":6}],3:[function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(i,e,r){return e&&t(i.prototype,e),r&&t(i,r),i}}(),h=t("./builder.js"),a=r(h),o=t("./gameplay.js"),l=r(o),c=t("./save.js"),u=(r(c),t("./score.js")),y=(r(u),function(){function t(i){s(this,t),this.grid=i.grid.nbre,this.gridBorderWidth=i.grid.borderWidth,this.$goban=i.goban.element,this.$goban_grid=i.grid.element,this.$goban_gameplay=i.gameplay.element,this.cellSize=i.grid.cellSize,this.rockSize=i.rock.size,this.rockPlayer1=i.rock.player1,this.rockPlayer2=i.rock.player2}return n(t,[{key:"run",value:function(){var t=new a["default"]({goban:{element:this.$goban},gameplay:{element:this.$goban_gameplay},grid:{element:this.$goban_grid,nbre:this.grid,cellSize:this.cellSize,borderWidth:this.gridBorderWidth}});t.run();var i=new l["default"]({element:this.$goban_gameplay,grid:{nbre:this.grid,cellSize:this.cellSize},rock:{size:this.rockSize,player1:this.rockPlayer1,player2:this.rockPlayer2}});i.listenner()}}]),t}());i.exports=y},{"./builder.js":1,"./gameplay.js":2,"./save.js":4,"./score.js":5}],4:[function(t,i,e){"use strict";function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function n(){r(this,n),this.score=[]};e.Score=s},{}],5:[function(t,i,e){"use strict";function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function n(){r(this,n)};e.Score=s},{}],6:[function(t,i,e){"use strict";function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(i,e,r){return e&&t(i.prototype,e),r&&t(i,r),i}}(),n=function(){function t(i,e,s,n){r(this,t),this.tab=i,this.enemy=e,this.x=s,this.y=n,this.start=""+this.x+";"+this.y,this.coordinate,this.cache=[],this.around=[],this.territory=[],this.borderTerritory=[],this.indexGoBack,this.newRock=!0}return s(t,[{key:"findTerritory",value:function(){this.around=[],this.newRock&&(this.cache[""+this.x+";"+this.y]="check",this.indexGoBack=this.territory.length,this.territory.push(""+this.x+";"+this.y));for(var t=1;4>=t;t++){switch(t){case 1:this.coordinate=""+this.x+";"+(this.y-1);break;case 2:this.coordinate=""+(this.x+1)+";"+this.y;break;case 3:this.coordinate=""+this.x+";"+(this.y+1);break;case 4:this.coordinate=""+(this.x-1)+";"+this.y}this.tab[this.coordinate]==this.enemy&&"check"!=this.cache[this.coordinate]&&this.around.push(this.coordinate)}if(0==this.around.length){if(this.start!=""+this.x+";"+this.y){this.newRock=!1,this.indexGoBack=this.indexGoBack-1;var i=this.territory[this.indexGoBack].lastIndexOf(";");this.x=parseInt(this.territory[this.indexGoBack].substr(0,i)),this.y=parseInt(this.territory[this.indexGoBack].substring(i+1)),this.findTerritory()}}else{this.random=Math.floor(Math.random()*this.around.length);var i=this.around[this.random].lastIndexOf(";");this.x=parseInt(this.around[this.random].substr(0,i)),this.y=parseInt(this.around[this.random].substring(i+1)),this.newRock=!0,this.findTerritory()}}},{key:"get",value:function(){return this.territory.sort()}},{key:"getBorders",value:function(){if(0==this.borderTerritory.length){var t=!0,i=!1,e=void 0;try{for(var r,s=this.territory[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var n=r.value,h=n.lastIndexOf(";");this.x=parseInt(n.substr(0,h)),this.y=parseInt(n.substring(h+1)),(this.tab[""+this.x+";"+(this.y-1)]!=this.enemy||this.tab[""+(this.x+1)+";"+this.y]!=this.enemy||this.tab[""+this.x+";"+(this.y+1)]!=this.enemy||this.tab[""+(this.x-1)+";"+this.y]!=this.enemy)&&this.borderTerritory.push(n)}}catch(a){i=!0,e=a}finally{try{!t&&s["return"]&&s["return"]()}finally{if(i)throw e}}}return this.borderTerritory.sort()}}]),t}();e.Territory=n,i.exports=n},{}],7:[function(t,i,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var s=t("./app/index.js"),n=r(s),h={goban:{element:".Game_goban"},gameplay:{element:".Game_goban_gameplay"},grid:{nbre:"19",element:".Game_goban_grid",cellSize:40,backgroundColor:"white",borderColor:"black",borderWidth:2},rock:{size:20,player1:"grey",player2:"black"}},a=new n["default"](h);a.run()},{"./app/index.js":3}]},{},[7]);